*{<meta charset="utf-8">}*
#{extends 'Application/main.html' /}

<div class="wrapper">
  <h1 class="logo">
    &{"top.title"}
  </h1>

  <div class="dialog">

    <h2>&{"register.title"}</h2>

    #{if flash.error}
    <div class="error">
      ${messages.get(flash.error)}
    </div>
    #{/if}

    #{form @authenticate()}
      #{field "name"}
      <label>&{"form.name"}</label>
      <input type="text" id="name" name="${field.name}" placeholder="&{"register.name"}" onblur="check('name')">
      <span id="name_error" class="alert"></span>
      #{/field}
      #{field "email"}
      <label>&{"form.email"}</label>
      <input type="text" id="email" name="${field.name}" placeholder="&{"register.email"}" onblur="check('email')">
      <span id="email_error" class="alert"></span>
      #{/field}
      #{field "password"}
      <label>&{"form.password"}</label>
      <input type="password" id="password" name="${field.name}" placeholder="&{"register.password"}" onblur="check('password')">
      <span id="password_error" class="alert"></span>
      #{/field}
      <input type="submit" value="&{"register.register"}">
    #{/form}

    <span class="quiet">
      &{"register.haveAccount"}<a href="@{Secure.login()}">${messages.get("register.here")}</a>
    </span>

  </div>
</div>